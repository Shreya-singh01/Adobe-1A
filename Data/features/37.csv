text,font_size,bold,page,x,y,is_upper,is_title_case,is_numbered,label
<<<<<<< HEAD
"Abstract: Performance of systems for optical detection depends on the choice of the right detectorfor the right application. Designers of optical systems for ranging applications can choose from avariety of highly sensitive photodetectors, of which the two most prominent ones are linear modeavalanche photodiodes (LM-APDs or APDs) and Geiger-mode APDs or single-photon avalanchediodes (SPADs). Both achieve high responsivity and fast optical response, while maintaining lownoise characteristics, which is crucial in low-light applications such as ﬂuorescence lifetime measure-ments or high intensity measurements, for example, Light Detection and Ranging (LiDAR), in outdoorscenarios. The signal-to-noise ratio (SNR) of detectors is used as an analytical, scenario-dependenttool to simplify detector choice for optical system designers depending on technologically achievablephotodiode parameters. In this article, analytical methods are used to obtain a universal SNR com-parison of APDs and SPADs for the ﬁrst time. Different signal and ambient light power levels areevaluated. The low noise characteristic of a typical SPAD leads to high SNR in scenarios with overalllow signal power, but high background illumination can saturate the detector. LM-APDs achievehigher SNR in systems with higher signal and noise power but compromise signals with low powerbecause of the noise characteristic of the diode and its readout electronics. Besides pure differentia-tion of signal levels without time information, ranging performance in LiDAR with time-dependentsignals is discussed for a reference distance of 100 m. This evaluation should support LiDAR systemdesigners in choosing a matching photodiode and allows for further discussion regarding futuretechnological development and multi pixel detector designs in a common framework.",8.98,True,1,166.9150390625,315.1203918457031,False,False,False,H2
Table 1. SPAD parameters.,8.97,True,10,166.968994140625,97.94735717773438,False,False,False,H4
"Figure 3. SNR for a single pixel SPAD and APD detector for a distance of 100 m and N = 1000accumulations. (a) SNR values for APD [21] (Table 3). (b) Achievable SNR for a SPAD detector insingle photon mode with parameters according to Table 1 and NSPAD = 1. SNR = 3 drawn as redcontour for ηPDE = 0.2 (solid line), ηPDE = 0.05 (dashed line) and ηPDE = 0.005 (dot-dashed line).",8.84,True,10,167.26499938964844,434.47216796875,False,False,False,H4
Table 2. Common parameters for ranging scenario.,8.97,True,10,166.96893310546875,499.4953308105469,False,False,False,H4
Table 3. APD Parameters.,8.97,True,11,166.968994140625,135.64236450195312,False,False,False,H4
"Figure 4. Behavior of the SPAD detector for higher multi-event levels k and limiting case of the lineardetector. NPh is set to 30 following from dead time and system range. SNR = 3 contour drawn forηPDE = 0.2, multi-event levels k and the linear detector (dashed line). Line for k = 1 is equivalent toFigure 3b.",8.76,True,12,167.26499938964844,528.818359375,False,False,False,H4
Figure 5. Comparison case for a single pixel APD detector of diameter 500 µm and a SPAD detectorwith 100 pixels and respective diameter of 50 µm.,8.96,True,13,166.88800048828125,430.1043701171875,False,False,False,H4
"Figure 6. SNR = 3 contours of the multi pixel SPAD detector with ηPDE = 0.2, k = 1 for differentpixel numbers NSPAD = [1, 10, 100, 1000, 10, 000] plotted over total event rates RB and RL. Othervalues from Table 1. Red cross: Multi pixel scenario used in Figure 7.",8.75,True,14,166.99600219726562,318.1801452636719,False,False,False,H4
"Figure 7. SNR from (30) for constant event rates rL = 0.1 GHz, rB = 0.4 GHz. SPAD and scenarioparameters from Tables 1 and 2 respectively. Red contour for SNR = 3. Red cross: multi pixel SPADwith NSPAD = 100 and rDCR = 1 kHz.",8.75,True,14,166.88800048828125,599.255126953125,False,False,False,H4
"Figure 8. Contour lines for receiver performance when comparing a single APD to an equally sized SPAD detector (a) indifferent operation modes of the SPAD (single/multi-event detection) and (b) additionally for 10,000 SPAD pixels NSPAD.Contour lines according to (14) and (30) with values from Tables 1–3 at SNR = 3 are shown in each case.",8.85,True,15,57.2599983215332,459.141357421875,False,False,False,H4
"Author Contributions: Conceptualization, S.H. and F.M.K.; methodology, A.B., S.H. and R.B.; soft-ware, A.B.; validation, M.L., S.H. and F.M.K.; formal analysis, S.H. and R.B.; investigation, S.H., R.B.and A.B.; data curation, A.B.; writing—original draft preparation, A.B. and R.B.; writing—reviewand editing, S.H., J.R., A.G. and M.L.; visualization, A.B.; supervision, M.L., A.G. and J.R.; projectadministration, J.R. and A.G. All authors have read and agreed to the published version of themanuscript.",9.01,True,16,166.88800048828125,687.788330078125,False,False,False,H2
Funding: This research received no external funding.,8.97,True,16,167.26499938964844,764.0623168945312,False,False,False,H2
=======
sensors,25.2,True,1,75.03706359863281,45.7455940246582,False,False,False,body
ArticleAnalytical Evaluation of Signal-to-Noise Ratios for Avalanche-and Single-Photon Avalanche Diodes,15.28,True,1,35.30099868774414,102.78063201904297,False,False,False,body
"Andre Buchner 1,*, Stefan Hadrath 2, Roman Burkard 3, Florian M. Kolb 2, Jennifer Ruskowski 1,Manuel Ligges 1and Anton Grabmaier 1",8.51,True,1,35.61199951171875,169.2352294921875,False,False,False,body
,7.87,True,1,55.51606750488281,366.28753662109375,False,True,False,body
"Citation: Buchner, A.; Hadrath, S.;",6.97,True,1,36.0,391.8647766113281,False,True,False,body
"Burkard, R.; Kolb, F.M.; Ruskowski, J.;",6.97,False,1,36.0,403.85577392578125,False,True,False,body
"Ligges, M.; Grabmaier, A. Analytical",6.97,False,1,36.0,415.7817687988281,False,True,False,body
Evaluation of Signal-to-Noise Ratios,6.97,False,1,36.0,427.7067565917969,False,False,False,body
for Avalanche- and Single-Photon,6.97,False,1,36.0,439.6317443847656,False,False,False,body
"Avalanche Diodes. Sensors 2021, 21,",6.97,True,1,35.72800064086914,451.4388122558594,False,True,False,body
2887. https://doi.org/10.3390/,6.97,False,1,36.0,463.48272705078125,False,False,True,body
s21082887,6.97,False,1,36.0,475.40771484375,False,False,False,body
"Academic Editors: Martin Laurenzis,",6.97,False,1,35.72800064086914,499.2887268066406,False,True,False,body
"Gerald S. Buller, Edoardo Charbon",6.97,False,1,36.0,511.21368408203125,False,True,False,body
and Ivan Rech,6.97,False,1,36.0,523.1387329101562,False,False,False,body
Received: 18 March 2021,6.97,False,1,36.0,547.0197143554688,False,True,False,body
Accepted: 16 April 2021,6.97,False,1,35.72800064086914,558.9447021484375,False,True,False,body
Published: 20 April 2021,6.97,False,1,36.0,570.8706665039062,False,True,False,body
Publisher’s Note: MDPI stays neutral,6.97,True,1,36.0,596.1786499023438,False,False,False,body
with regard to jurisdictional claims in,6.97,False,1,35.707000732421875,608.1707153320312,False,False,False,body
published maps and institutional afﬁl-,6.97,False,1,35.79100036621094,620.095703125,False,False,False,body
iations.,6.97,False,1,36.0,632.0206909179688,False,False,False,body
Copyright: © 2021 by the authors.,6.97,True,1,36.0,684.7947387695312,False,False,False,body
"Licensee MDPI, Basel, Switzerland.",6.97,False,1,36.0,696.7857666015625,False,False,False,body
This article is an open access article,6.97,False,1,35.784000396728516,708.7107543945312,False,False,False,body
distributedunderthetermsand,6.97,False,1,36.0,720.6367797851562,False,False,False,body
conditions of the Creative Commons,6.97,False,1,36.0,732.561767578125,False,False,False,body
Attribution (CC BY) license (https://,6.97,False,1,35.72800064086914,744.48681640625,False,False,False,body
creativecommons.org/licenses/by/,6.97,False,1,36.0,756.4127807617188,False,False,False,body
4.0/).,6.97,False,1,36.0,768.3378295898438,False,True,True,body
"1Fraunhofer Institute for Microelectronic Circuits and Systems, Finkenstr. 61, 47057 Duisburg, Germany;jennifer.ruskowski@ims.fraunhofer.de (J.R.); manuel.ligges@ims.fraunhofer.de (M.L.);anton.grabmaier@ims.fraunhofer.de (A.G.)2OSRAM GmbH, Nonnendammallee 44, 13629 Berlin, Germany; stefan.hadrath@osram.com (S.H.);F.Kolb@osram.com (F.M.K.)3Department of Electronic Components and Circuits, University of Duisburg-Essen, Bismarckstr. 81,47057 Duisburg, Germany; roman.burkard@uni-due.de*Correspondence: andre.buchner@ims.fraunhofer.de; Tel.: +49-203-3783-319",7.47,True,1,166.55503845214844,213.41543579101562,False,False,True,body
"Abstract: Performance of systems for optical detection depends on the choice of the right detectorfor the right application. Designers of optical systems for ranging applications can choose from avariety of highly sensitive photodetectors, of which the two most prominent ones are linear modeavalanche photodiodes (LM-APDs or APDs) and Geiger-mode APDs or single-photon avalanchediodes (SPADs). Both achieve high responsivity and fast optical response, while maintaining lownoise characteristics, which is crucial in low-light applications such as ﬂuorescence lifetime measure-ments or high intensity measurements, for example, Light Detection and Ranging (LiDAR), in outdoorscenarios. The signal-to-noise ratio (SNR) of detectors is used as an analytical, scenario-dependenttool to simplify detector choice for optical system designers depending on technologically achievablephotodiode parameters. In this article, analytical methods are used to obtain a universal SNR com-parison of APDs and SPADs for the ﬁrst time. Different signal and ambient light power levels areevaluated. The low noise characteristic of a typical SPAD leads to high SNR in scenarios with overalllow signal power, but high background illumination can saturate the detector. LM-APDs achievehigher SNR in systems with higher signal and noise power but compromise signals with low powerbecause of the noise characteristic of the diode and its readout electronics. Besides pure differentia-tion of signal levels without time information, ranging performance in LiDAR with time-dependentsignals is discussed for a reference distance of 100 m. This evaluation should support LiDAR systemdesigners in choosing a matching photodiode and allows for further discussion regarding futuretechnological development and multi pixel detector designs in a common framework.",8.98,True,1,166.9150390625,315.1203918457031,False,False,False,H2
Keywords: SPAD; APD; LiDAR; SNR; time-of-ﬂight; multi-event,8.97,True,1,167.26499938964844,573.5323486328125,False,False,False,body
1. Introduction,9.96,True,1,167.26499938964844,622.908203125,False,True,True,body
"Signal-to-noise ratio (SNR) is a widely used metric for the ability of a photodetector todistinguish between an incident signal and its absence. While SNR is frequently invokedto classify detector sensing capabilities, discourse is often limited to qualitative expressionslike ‘high’ and ‘low’ SNR without further deﬁning the analytical origins of SNR for differentdetectors or discussing speciﬁc, quantitative examples.Various research groups have compared the performance of APD- and SPAD-basedoptical detection systems and also derived SNR deﬁnitions for both APDs and SPADs. Theauthors of [1] derive an SNR deﬁnition for SPADs in single- or multi-event [2,3] acquisitionmode which is the basis for this work. An extension of this deﬁnition is given by [4]representing afterpulsing effects in gated SPADs, which are assumed to be negligible inthis work through the use of a sufﬁciently long dead time.",9.94,False,1,167.26499938964844,638.6153564453125,False,False,False,body
"Sensors 2021, 21, 2887. https://doi.org/10.3390/s21082887https://www.mdpi.com/journal/sensors",7.97,True,1,35.777000427246094,814.7760620117188,False,False,False,body
"Sensors 2021, 21, 28872 of 18",7.97,True,2,35.777000427246094,53.77107238769531,False,False,False,body
"APDs and their readout circuitry on the other hand are a comparatively maturetechnology whose noise sources are well-understood and mathematically described. TheSNR depending on the chosen readout electronics is extracted from standard literature [5,6].Comparisons of APD and SPAD performance for different applications are also re-ported in literature. A recent publication which conducts a similar comparison to this oneis [7]. The authors derive their results using a Monte-Carlo based photonic simulator. Thedifference between their results and the results detailed in this publication is that theirsimulations are based on a SPAD system which may accumulate multiple measurementswhile the compared APD system has to create its result from a single measurement andno analytical expressions of the SNR are given. By contrast, we decided to focus on ascenario in which measurement accumulation for APD and SPADs are kept at the samelevel, even if accumulation can be considered necessary for SPAD detectors and optionalfor APD detectors. The author of [8] evaluates the respective diode’s performance in anoptical wireless communications scenario. The comparison is conducted in a low ambientlight scenario and the saturating behavior of the SPAD detector is not taken into account.Reference [9] compares SPAD and APDs directly for their application in visible light com-munications but uses an approximation for the SPAD performance which is based on itsphoton-counting performance and does not consider the characteristics of time-correlatedacquisition. The authors of [10] compare different options for ﬂash LiDAR detectors withfocus on GaAs-based detectors.This work advances the state-of-the-art in that it considers multi-event and asyn-chronous acquisition of photoelectron-generated events for SPADs, not limited to low-ﬂuxscenarios. The authors are not aware of any publication which considers the saturatingbehavior of SPAD SNR in ambient light scenarios and compares them to the respective APDbehavior based on SNR values, including the readout circuitry, of commercially availablediodes in ranging applications. Recommendations are given which can provide a basis forthe design of future electrooptical systems, and equations are presented which will allowthe reader to scale the considerations for their own design efforts.Section 2 deals with the properties of optical signal acquisition using APD and SPADreceivers. Effects of their noise behavior in relation to their respective readout electronicsare discussed brieﬂy and mitigation strategies are sketched.In Section 3, the detector types are analytically compared by evaluating the equationsover a range of input powers. The advantages of SPADs in low-light and short to mid-rangeranging applications are shown. Besides a performance estimation based on exemplaryparameters from commercially available photodiodes, the impact of future parameterimprovements is discussed. The advantageous properties of APDs in systems with overallhigh signal levels are displayed.Section 4 discusses the ﬁndings and provides an outlook for possible technologicalperspectives and a summary.",9.97,False,2,166.8459930419922,96.45336151123047,False,False,False,body
2. Model and Method,9.96,True,2,167.26499938964844,595.8582153320312,False,False,True,body
"The random nature of photon arrivals leads to a statistical detection process. Ingeneral, the values of noise and signal decide how probable it is to detect a signal overpresent noise. In the following, mathematical models of APDs and SPADs describing thestochastic behavior are presented.",10.02,False,2,166.96600341796875,611.4234008789062,False,False,False,body
2.1. Time-Dependent Signals from APDs,9.96,False,2,167.26499938964844,671.399658203125,False,False,True,body
"A linear-mode APD operates under a reverse-bias voltage that is sufﬁcient to enableavalanche multiplication. In contrast to a SPAD, this reverse-bias voltage is below thebreakdown voltage of the APD and the multiplication results in an internal current gain,which is proportional to the incoming optical signal PS and noise power PN. The conversionand multiplication into a measurable photocurrent IS are inﬂuenced by several noisesources. In the following, the basic principle of avalanche multiplication process and noisesources of an APD are brieﬂy summarized.",9.51,False,2,166.8459930419922,687.09619140625,False,False,False,body
"Sensors 2021, 21, 28873 of 18",7.97,True,3,35.777000427246094,53.77107238769531,False,False,False,body
"The process of the avalanche multiplication is started by an optically or thermallygenerated electron in the depletion region of the p-n junction. The electric ﬁeld, caused bythe applied reverse-bias voltage, accelerates this electron. If a sufﬁcient reverse-bias voltageis applied, the electron gains enough kinetic energy to create new electron-hole pairs. Thesenewly created electron-hole pairs are again accelerated by the electric ﬁeld and may createfurther electron-hole pairs, resulting in an overall avalanche process summarized by themultiplication factor M [5].",9.95,False,3,167.26499938964844,98.23436737060547,False,False,False,body
2.1.1. APD Noise Sources,9.96,False,3,167.26499938964844,196.03948974609375,False,False,True,body
"Besides the dependency of the multiplication factor M on the biasing voltage ofthe APD, this avalanche multiplication process is an inherently random process andintroduces a noise source known as avalanche noise, as not every generated electron-holepair experiences the same multiplication. Avalanche noise is described using the noisefactor F, given in Equation (1), and depends on the ionization coefﬁcients αp and αn of thecarriers (holes and electrons respectively) and the multiplication factor M [5]. For siliconAPDs, the ratio of the ionization coefﬁcients αp",9.41,False,3,166.87600708007812,211.41062927246094,False,False,False,body
"αn is low, and typical noise factor values rangefrom 2 to 3 [6].",9.02,False,3,167.26499938964844,286.9703369140625,False,False,False,body
F =,10.17,False,3,261.79998779296875,317.4798583984375,True,True,False,body
M2,9.36,False,3,282.73699951171875,309.1778564453125,True,True,False,body
M= Mαp,9.63,False,3,290.27899169921875,310.9183654785156,False,False,False,body
αn,8.77,False,3,341.125,326.09295654296875,False,False,False,body
+2 −1,10.1,False,3,352.8070068359375,310.9183654785156,False,True,False,body
M,9.96,False,3,398.9809875488281,325.1106262207031,True,True,False,body
1 −αp,9.57,False,3,409.8799743652344,310.9183654785156,False,False,False,body
αn,8.77,False,3,443.4840087890625,326.09295654296875,False,False,False,body
.(1),9.96,False,3,455.166015625,310.9183654785156,False,True,False,body
"The process of the avalanche multiplication may be started by the presence of athermally generated electron. With other non-optical noise sources this is combined intoa dark current Id. A distinction in the dark current is made between an unmultiplied(surface) Ids and a multiplied (bulk) Idb current term, which is expressed as",9.44,False,3,166.93600463867188,342.3153991699219,False,False,False,body
Id = Ids + IdbM.(2),9.33,False,3,327.802978515625,402.0928649902344,False,False,False,body
"The surface dark current Ids contributes shot noise only, whereas the bulk dark currentIdb undergoes avalanche multiplication and therefore contributes excess noise. The shotnoise current density ⟨Id⟩contribution of the total dark current is",9.47,False,3,167.26499938964844,425.9026184082031,False,False,False,body
⟨Id⟩=q,9.77,False,3,303.5240173339844,472.7463684082031,False,False,False,body
"2e(Ids + IdbM2F),(3)",9.54,False,3,344.9530029296875,477.2328796386719,False,False,True,body
"where e denotes the elementary charge. In the following, we distinguish between anapplication-speciﬁc desired (time-dependent) signal current IS and an underlying (constant)background signal IB caused by solar background in laser ranging applications, for example.Summarizing the current contributions from the aforementioned sources, an expression forthe output current I of the APD can be found to be",9.62,False,3,166.8459930419922,502.2516174316406,False,False,False,body
I = Ids + (IS + IB + Idb)M(4),9.5,False,3,305.83697509765625,574.680908203125,False,False,False,body
and the shot noise current density I of this current I is,9.96,False,3,167.26492309570312,598.4906005859375,False,False,False,body
⟨I⟩=q,10.21,False,3,280.6759033203125,620.2293701171875,False,False,False,body
2e(Ids + (IS + IB + Idb)M2F).(5),9.51,False,3,317.63800048828125,624.7149047851562,False,False,True,body
2.1.2. APD Noise Sources Including Readout Circuitry,9.96,False,3,167.2650146484375,651.5125122070312,False,False,True,body
"To further describe the noise properties of an APD, a simple example of a read-outcircuit for an APD needs to be considered. This read-out circuit is shown in Figure 1and consists of a voltage source, which is used to supply the reverse-bias voltage VBiasof the APD, and a transimpedance ampliﬁer, which converts and further ampliﬁes thephotocurrent into a proportional output voltage Vout. In ﬁrst-order approximations, theoutput voltage caused by the signal power is",9.62,False,3,166.96600341796875,666.982421875,False,False,False,body
"Vout = IS · M · Rf = R′ · M · PS · Rf = R · PS · Rf,(6)",9.52,False,3,259.8280029296875,747.6173095703125,False,False,False,body
"Sensors 2021, 21, 28874 of 18",7.97,True,4,35.777000427246094,53.77107238769531,False,False,False,body
"where R and R’ are the responsitivity of the APD with and without the multiplicationfactor, respectively, and PS is the signal power impinging on the sensor. Further typicalassumptions concerning the ampliﬁer are a 3 dB bandwidth BN that matches the rise timeof the photocurrent pulse, a linear response and no stray capacitances. Furthermore, thenoise contribution of the ampliﬁer is described by adding a noise current density
Iamptoits output.
Vamp =
IampRf(7)",9.57,False,4,166.8459930419922,98.13561248779297,False,False,False,body
Figure 1. APD with biasing voltage and transimpedance ampliﬁer.,8.97,True,4,167.26499938964844,376.70233154296875,False,False,False,body
With the respective ampliﬁcation voltage VAmp which is derived by multiplicationwith the bandwidth BN following Equation (8),9.39,False,4,166.8459930419922,398.2806396484375,False,False,False,body
"Vamp =
Vampp",9.34,False,4,316.8110046386719,431.5753479003906,False,False,False,body
BN.(8),9.36,False,4,394.510986328125,433.84661865234375,True,False,False,body
The resistor Rf sets the gain of the transimpedance ampliﬁer and contributes a Johnsonnoise current of⟨IRf⟩= 4kBT,9.55,False,4,167.26499938964844,456.8606262207031,False,False,False,body
"Rf,(9)",9.36,False,4,374.4389953613281,484.7914733886719,False,True,False,body
where T is the temperature and kB is the Boltzmann constant. The capacitor Cf is usedas a phase compensation and reduces the gain peaking of the read-out circuit at higherfrequencies [11].Adding the aforementioned noise currents in quadrature and transforming these intoa voltage yields the total noise voltage ⟨Vout⟩at the output of the ampliﬁer of,9.67,False,4,166.8459930419922,508.05462646484375,False,False,False,body
⟨Vout⟩=,9.74,False,4,203.7600555419922,587.495849609375,False,True,False,body
r,9.96,False,4,244.0240478515625,580.00537109375,False,False,False,body
"2eBN(Ids + (IS + IB + Idb)M2F)R2f + BN4kBTRf +DV2ampE,(10)",9.3,False,4,254.11099243164062,583.92333984375,False,False,True,body
"where the current IB is the current caused by background radiation and the bandwidth BNis the noise bandwidth of the ampliﬁer. In contrast to the signal bandwidth B, the noisebandwidth BN is deﬁned as the frequency at which the gain of the ampliﬁer becomes 0 dB.Only in the limiting case, where the frequency response of the ampliﬁer is assumed to bean ideal low-pass ﬁlter, both bandwidths are equal.",9.53,False,4,166.8459930419922,615.4876098632812,False,False,False,body
2.1.3. APD SNR,9.96,False,4,167.26499938964844,688.2844848632812,True,False,True,body
The ratio of the signal output voltage and the total noise voltage is deﬁned as the SNRof the APD and the read-out circuit and is given in Equation (11) [12],9.94,False,4,167.26499938964844,703.8983154296875,False,False,False,body
SNRAPD =ISRfr,9.12,False,4,187.6199951171875,737.3656005859375,False,False,False,body
2eBN(Ids + (IS + IB + Idb)M2F)R2f ) + 4kBBNTRf + BNDV2ampE(11),9.24,False,4,249.86700439453125,744.2794799804688,False,False,True,body
"Sensors 2021, 21, 28875 of 18",7.97,True,5,35.777000427246094,53.77107238769531,False,False,False,body
"In terms of optical power and assuming a high multiplication factor M and N individ-ual signal acquisitions, this may be simpliﬁed and expressed as",9.91,False,5,167.26499938964844,98.13561248779297,False,False,False,body
SNRAPD =,9.31,False,5,215.8909912109375,143.04388427734375,True,False,False,body
vuuut,9.96,False,5,266.85601806640625,132.42640686035156,False,False,False,body
NR′2P2S,8.42,False,5,376.6889953613281,134.54776000976562,True,False,False,body
2eBN(R′PS + R′PB + Idb)F +1M2 BN,9.01,False,5,278.6860046386719,155.14495849609375,False,False,True,body
4kBT,7.73,False,5,432.6380310058594,149.8273468017578,False,False,False,body
Rf + ⟨V2amp⟩,8.58,False,5,445.94500732421875,150.6252899169922,False,False,False,body
R2f,6.51,False,5,481.18499755859375,162.40347290039062,False,False,False,body
.(12),9.96,False,5,499.5059814453125,144.00946044921875,False,True,False,body
"When placing multiple pixels in an illuminated area, each of them will only have afraction of incident photons impinging on its respective surface. Furthermore, not all of thepixel area is optically active which can be expressed by introducing a ﬁll-factor ηFF as theratio of optically active to total area. Accounting for the power reduction of both leads tothe expression in (13)",9.67,False,5,166.96600341796875,185.9403533935547,False,False,False,body
PS = ηFFP′SNAPD.(13),9.1,False,5,336.8840026855469,245.28475952148438,False,False,False,body
"When accounting for ﬁnite ﬁll-factor and summing the signals of NAPD differentdetectors, Equation (12) extends to (14)",9.52,False,5,167.26499938964844,278.28265380859375,False,False,False,body
SNRAPD =,9.31,False,5,204.80899047851562,323.1908874511719,True,False,False,body
vuuut,9.96,False,5,255.7740020751953,312.5733947753906,False,False,False,body
NNAPDη2FF R′2P′S2,8.54,False,5,354.239990234375,314.1468200683594,False,False,False,body
2eBN R′ηFFPS,8.0,False,5,267.60400390625,328.0237731933594,False,False,True,body
NAPD + R′ηFFPB,7.69,False,5,301.2640075683594,333.19879150390625,False,False,False,body
NAPD + IdbF +1M2 BN,8.63,False,5,342.9079895019531,332.9623718261719,False,False,False,body
4kBT,7.73,False,5,443.72003173828125,329.973388671875,False,False,False,body
Rf + ⟨V2amp⟩,8.58,False,5,457.0270080566406,330.7723388671875,False,False,False,body
R2f,6.51,False,5,492.2669982910156,342.5494689941406,False,False,False,body
.(14),9.96,False,5,510.5879821777344,324.156494140625,False,True,False,body
2.2. Single-Photon Counting Using SPADs,9.96,False,5,167.26498413085938,367.5976257324219,False,False,True,body
"A SPAD is a photodiode which is brought into a photosensitive metastable state bybiasing it above its breakdown voltage. The high voltage drop-off over the active region ofthe SPADs accelerates photo-generated carriers high enough to generate a large numberof additional carriers and trigger a macroscopic current, causing the device to leave itsmetastable state. This makes the SPAD sensitive for single incident photons. In contrast tothe APD, this current is not proportional to the initial photocurrent but quickly reachessaturation through an ampliﬁcation which approaches inﬁnity.For measuring time-dependent signals, this change in current can be detected via atime-to-digital converter (TDC). The output pulse of the SPAD undergoes a pulse-shapingcircuit and triggers the TDCs input. There are evaluation circuits which solely count thenumber of occurring events while being active. Other implementations are capable ofresolving the relative time of arrival of the event and enable time-correlated single photoncounting (TCSPC) applications with higher accuracy requirements.Similar to the APD, incident photons can miss the optically active area. This leads tothe deﬁnition of a ﬁll-factor ηFF, which is simply a geometrical ratio between optically activeand inactive area. Photons hitting the optically active area have to generate a photoelectronwhich is subsequently accelerated to cause an avalanche breakdown. Those effects alsohappen with a ﬁnite efﬁciency, which is summarized in the photon detection probability(PDP) ηPDP.If the breakdown current is sustained, the diode becomes insensitive to further imping-ing photons, and the associated power dissipation could lead to the thermal destruction ofthe photodiode. Thus, it must be reset to the previous state. To reset, the biasing voltagemust be reduced far enough below the breakdown voltage to stop the current ﬂow andthen increased again.The time that it takes to get the SPAD ready for the next detection is called deadtime. During dead time, the SPAD is not sensitive for additional incident photons. Theact of resetting is called quenching. Quenching circuits can be subdivided into differentcategories. Passive quenching can be realized using a resistor connected in series to theSPAD to lower the voltage over the diode under the breakdown voltage after an avalancheoccurs. Passive quenching circuits are realized with a high impedance termination andtheir recovery times are on the order of microseconds [13].",9.86,False,5,166.8459930419922,383.2373962402344,False,False,False,body
"Sensors 2021, 21, 28876 of 18",7.97,True,6,35.777000427246094,53.77107238769531,False,False,False,body
"Today’s active quenching circuits achieve dead times in the order of 20 ns [14] whilesufﬁciently suppressing afterpulsing, with some systems exhibiting dead times downto a few nanoseconds [15]. This time is a tradeoff between the maximum number ofpotential photon acquisitions per measurement and the necessity to deactivate the SPADlong enough to suppress afterpulsing effects caused by trapped carriers in interband stateswith exponentially decaying lifetime [13]. Especially short dead times can be achievedusing combinations of the fast voltage drop-off of passive quenching and active elementsto keep dead times low. An exemplary circuit with a low dead time is shown in Figure 2.",9.99,False,6,166.8459930419922,98.28764343261719,False,False,False,body
Figure 2. SPAD with a combined active/passive quenching circuit from [16].,8.97,True,6,167.26499938964844,432.079345703125,False,False,False,body
2.2.1. SPAD Noise Sources,9.96,False,6,167.26499938964844,451.7344970703125,False,False,True,body
"An avalanche can be triggered not only by incident photons but also via carriersthat were generated thermally or through band-to-band tunneling [17]. Those carriers areaccelerated just like the electron hole pairs which were generated via the inner photoelectriceffect. Since the avalanche breakdown is triggered in the absence of light, the correspondingnoise level is referred to as dark count rate (DCR) rDCR. As a single avalanche can eitherstem from noise or signal and it is impossible to distinguish them without the use ofadditional information or statistics on multiple accumulated measurements, the DCR mustbe kept low.An increase in bias voltage increases both the dark count rate and the probability fortriggering an avalanche after an electron-hole pair has been generated. Therefore, a tradeoffbetween SPAD sensitivity and DCR must be found. Furthermore, higher temperatures alsolead to an increase in DCR [18] due to thermal activation of carriers.In high ambient light level scenarios, the impact of DCR is less drastic because the am-bient light levels usually produce an intrinsic shot noise level which is orders of magnitudehigher.The sudden increase in current caused by a triggered avalanche produces an electro-magnetic ﬁeld which can in turn trigger other detectors in the vicinity. This effect is calledcrosstalk. It is assumed that through careful design, for example, using isolating trenchesbetween detectors and a sufﬁciently large pixel pitch, the amount of crosstalk is negligiblefor the consideration of the SNR.When an avalanche breakdown has occurred, and the SPAD is quenched, carriers canremain in intermediate band states, with occupation probability decreasing exponentiallydue to their lifetime. When VBias is increased again too soon, those carriers can leadto another breakdown, which is correlated to the ﬁrst one and is called an afterpulse.Afterpulsing is assumed to be negligible with probabilities below <1%. Measurement",9.82,False,6,166.87600708007812,467.2043762207031,False,False,False,body
"Sensors 2021, 21, 28877 of 18",7.97,True,7,35.777000427246094,53.77107238769531,False,False,False,body
"schemes based on ﬁrst photon acquisition do not suffer from afterpulsing effects becauseafter its ﬁrst detection the SPAD is being disabled and is thus unable to detect furtheravalanches. In that regard, they are similar to systems with an inﬁnitely high dead time.",10.0,False,7,167.26499938964844,98.28764343261719,False,False,False,body
2.2.2. Photon Detection Statistics and Operation Modes,9.96,False,7,167.26499938964844,145.8275146484375,False,False,True,body
"Optical detectors aim to detect the presence or absence of a signal photon stream.While the APD noise is expressed in terms of occurring noise currents, a description basedon the event rate is more common with SPAD detectors. The number of incident photonsN, which stem from a photon source, for example, lasers or the sun, arriving in any giventime interval T can be modelled using a Poisson point process with rate parameter r. Thevalue of r is proportional to the incident optical power P(t) of energy WPh = hc",9.72,False,7,166.76699829101562,161.29734802246094,False,False,False,body
λon adetector with photon detection efﬁciency ηPDE [19]. For constant signal PS and backgroundlight power PB this results in the photon electron rates,9.3,False,7,167.26499938964844,224.06236267089844,False,False,False,body
rL = ηPDE,9.24,False,7,335.14300537109375,269.1359558105469,False,False,False,body
WPhPS(15),9.01,False,7,360.4729919433594,274.8975830078125,False,False,False,body
andrB = ηPDE,9.34,False,7,167.26498413085938,302.64044189453125,False,False,False,body
WPhPB.(16),9.17,False,7,358.9020080566406,315.02362060546875,False,False,False,body
Photon detection efﬁciency ηPDE combines signal loss through the geometrical ﬁll-factor ηFF and the ﬁnite probability of conversion from incident photons to triggeredavalanche ηPDP.ηPDE = ηFFηPDP.(17),9.32,False,7,167.26499938964844,338.5113830566406,False,False,False,body
The expected number of arrivals m in a time interval T produced by light sources withPoissonian statistics and constant intensity with ﬂux rB for k occurring detections can bedescribed using the distribution function in Equation (19).,9.73,False,7,167.26499938964844,394.900634765625,False,False,False,body
m =Z T,9.22,False,7,288.1000061035156,438.4828796386719,False,False,False,body
0 r(t) dt = ηPDE,9.61,False,7,315.05902099609375,443.2879333496094,False,False,True,body
WPh,8.77,False,7,369.7959899902344,455.8846435546875,False,False,False,body
Z T,8.27,False,7,392.5169982910156,438.4828796386719,True,True,False,body
0 P(t) dt(18),9.77,False,7,397.6230163574219,448.3598327636719,False,False,True,body
p(t) = mk,9.74,False,7,319.7760009765625,476.6837463378906,False,False,False,body
k! exp(−m)(19),10.12,False,7,354.14898681640625,484.35833740234375,False,False,False,body
A property of the Poisson process is that its standard deviation σ of counted photonsis linked to the mean value of arrivals,9.95,False,7,167.26499938964844,506.88995361328125,False,False,False,body
σ = √,10.28,False,7,343.82000732421875,533.25732421875,False,False,False,body
m.(20),9.96,False,7,372.4779968261719,542.265625,False,False,False,body
The most common acquisition mode for SPADs which is used in a variety of applica-tions is single-photon acquisition. The measurement is stopped after the ﬁrst avalanchebreakdown. This avoids the effects of the dead time on signal acquisition but introducessignal-dependent saturation into the system. The probability density function of one ormore detections with a constant rate r follows (21).,10.0,False,7,167.26499938964844,565.448486328125,False,False,False,body
"PA(r, t) = r exp(−m)(21)",9.94,False,7,317.23199462890625,637.5743408203125,False,False,False,body
"Pushing dead times into the nanosecond regime enables a different acquisition modefor SPADs. In combination with so-called multi-hit TDCs which are capable of acquir-ing multiple avalanche timestamps in rapid succession, saturation effects through noisephotons can be partially mitigated.",10.0,False,7,166.96600341796875,661.7135620117188,False,False,False,body
"Sensors 2021, 21, 28878 of 18",7.97,True,8,35.777000427246094,53.77107238769531,False,False,False,body
"Assuming measurement cycles of ﬁnite length tToF and ﬁnite dead time tD, the maxi-mum number of photons NPh is limited. The longer of the two dead times of TDC tD,TDCand SPAD tD,SPAD has to be considered here because both limit the capability of acquiringmore photons in the same way",9.3,False,8,167.26499938964844,98.13561248779297,False,False,False,body
"NPh =tToFmax(tD,TDC, tD,SPAD)",9.37,False,8,293.0459899902344,157.14430236816406,False,False,False,body
.(22),9.96,False,8,425.5439453125,157.14430236816406,False,True,False,body
"The probability density for this multi-event acquisition is valid when the detectoris still unblocked because fewer than the maximum number of photon detections NPhhave occurred previously [1]. Subsequent events are delayed by a dead time between thedetection of these events, resulting in the total PDF PA,M in (23)",9.55,False,8,167.26499938964844,193.0853729248047,False,False,False,body
"PA,M(rB, t) =",9.47,False,8,224.9010009765625,262.1358642578125,False,False,False,body
NPh∑k=1,8.42,False,8,284.9229736328125,253.07676696777344,False,False,False,body
rkB(t −(k −1)tD)k−1,9.29,False,8,301.40594482421875,252.06179809570312,False,False,False,body
(k −1)!exp(−rB(t −(k −1)tD)).(23),9.96,False,8,329.2200012207031,262.0013427734375,False,False,False,body
"For tD = 0 this equation simpliﬁes to an Erlang distribution. NPh is the maximumnumber of photons assuming an inﬁnitely high photon ﬂux. This is an idealization becausethe next arrival is generally not instantaneous, and a photon inter-arrival time has to passafter each detection before the next avalanche is triggered. When setting NPh = 1, thesingle photon detection PDF (21) follows from Equation (23).",9.59,False,8,167.26499938964844,292.83087158203125,False,False,False,body
2.2.3. SPAD Histogram SNR for Time-Dependent Signals,9.96,False,8,167.26499938964844,366.42449951171875,False,False,True,body
"A histogram is formed by accumulating time-resolved measurements with a certainresolve time interval tBin. The ﬂux of a rectangular pulse with inﬁnitely steep slopes in aconstant background level rB is realized by a piecewise constant function, where Φ denotesthe Heaviside function (24)",9.55,False,8,167.26499938964844,381.93695068359375,False,False,False,body
r(t) = Φ(t) · rB + (Φ(t −tToF) −Φ(t −(tToF + tP)) · rL.(24),9.82,False,8,242.9949951171875,441.538330078125,False,False,False,body
A rectangular pulse constitutes an idealization of laser pulse form. It can be regardedas the upper limit of reachable SNR for a pulse of arbitrary form with pulse peak powercorresponding to rL. The SNR in this case is limited by the saturation through backgroundlight photons up to the time tToF and the mean number of detections during a pulse timetP. The SNR follows [20],9.48,False,8,167.26499938964844,465.6919250488281,False,False,False,body
SNRSingle =,9.31,False,8,292.58001708984375,546.933837890625,False,False,False,body
s,9.96,False,8,347.84503173828125,536.46630859375,False,False,False,body
NtPPA,8.77,False,8,358.4049987792969,540.984619140625,False,False,False,body
rB,8.77,False,8,377.739013671875,554.5635986328125,False,False,False,body
rL√rL + rB.(25),9.33,False,8,391.010986328125,540.984619140625,False,False,False,body
For a shorter acquisition time tBin than tP this value is limited to the expression in (26)because of the lower mean values in a smaller time interval,9.33,False,8,167.26499938964844,577.9256591796875,False,False,False,body
SNRSingle =,9.31,False,8,288.07501220703125,620.0888671875,False,False,False,body
s,9.96,False,8,343.34002685546875,609.621337890625,False,False,False,body
NtBinPA,8.77,False,8,353.9010009765625,614.140625,False,False,False,body
rB,8.77,False,8,379.9949951171875,627.7196044921875,False,False,False,body
rL√rL + rB.(26),9.33,False,8,395.5150146484375,614.140625,False,False,False,body
"In contrast to the deﬁnition of SNR for the APD, this SNR deﬁnition for SPADs is onlydeﬁned for a single time interval tBin. If that time interval is matched to the pulse duration,the total pulse energy contributes to the ranging result.In case of multi-event detection, the SNR can beneﬁt from the reduced saturation levelPA,M analogous to Equation (23)",9.45,False,8,167.26499938964844,651.3233642578125,False,False,False,body
"SNRMulti,Event =",9.31,False,8,273.9539794921875,733.7388305664062,False,False,False,body
s,9.96,False,8,348.4959716796875,723.2083129882812,False,False,False,body
"NtBinPA,M",8.77,False,8,359.0559997558594,727.6636352539062,False,False,False,body
rB,8.77,False,8,389.6789855957031,741.36865234375,False,False,False,body
rL√rL + rB.(27),9.33,False,8,407.2359924316406,727.7896118164062,False,False,False,body
"Sensors 2021, 21, 28879 of 18",7.97,True,9,35.777000427246094,53.77107238769531,False,False,False,body
"The usually smaller footprint of SPADs in comparison to APDs makes it possible to ﬁtmore than one SPAD in the same area that an APD would occupy. Assuming homogeneousillumination and the integration of each SPAD with an active quenching circuit and itsown TDC, the received input power is split up equally between the NSPAD detectors. Acommon histogram can proﬁt from the higher possible number of timestamps used formeasurement evaluation. DCR values stemming from single SPADs are more pronouncedbecause only incident rates are reduced, but DCR per detector stays constant. In reality,smaller detectors exhibit lower DCR and thus further increase performance. The reducedrates for the background r′B and the laser r′L may be expressed according to (28) and (29).",9.46,False,9,167.26499938964844,98.3773193359375,False,False,False,body
r′B =1NSPADrB + rDCR(28),9.22,False,9,315.5469970703125,220.38751220703125,False,False,False,body
r′L =1NSPADrL(29),9.2,False,9,332.0479736328125,254.3594970703125,False,False,False,body
This yields Equation (30) when assuming a common histogram and homogeneousillumination.,10.01,False,9,167.26499938964844,284.33135986328125,False,False,False,body
"SNRMulti,Event,Pixel=q",9.47,False,9,216.7169952392578,316.9123840332031,False,False,False,body
NNSPADtBin 1,8.53,False,9,334.71600341796875,318.3319091796875,False,False,False,body
"r′B PA,M(rB′, tToF)r′L√",8.53,False,9,387.36700439453125,314.2804260253906,False,False,False,body
r′L+r′B=q,7.53,False,9,305.7740173339844,325.8764343261719,False,False,False,body
NtBin 1,8.37,False,9,327.4209899902344,338.14990234375,False,False,False,body
"r′B PA,M(rB′, tToF)rL√rL+rB+NSPADrDCR",7.96,False,9,352.1199951171875,337.3017883300781,False,False,False,body
.(30),9.96,False,9,509.82305908203125,330.6734924316406,False,True,False,body
"Provided that a SPAD evaluation circuit is capable of detecting an unlimited numberof events through either memory which can hold a sufﬁcient number of timestamps or areadout scheme which is capable of transporting the data out of the sensor before the nextevent, NPh is solely limited by dead time and ranging distance and takes its maximumvalue according to (22).In systems with very short dead time, the saturation-dependent factor approachesunity and the system’s performance is limited solely by the acquisition time tBin and photonshot noise.SNRLinear =p",9.59,False,9,166.98599243164062,366.4187927246094,False,False,False,body
NtBinrL√rL + rB(31),9.17,False,9,362.81298828125,459.91363525390625,False,False,False,body
"This is the corner case of a linear detector. It is in practice unreachable but neverthelessconstitutes a limiting case. When time-gating schemes or region-of-interest scanning arepossible, one can also avoid these saturation effects and conduct measurements approach-ing the highest possible SNR.",9.95,False,9,166.96600341796875,491.0643310546875,False,False,False,body
3. Analytic Comparison of APD and SPAD Performances,9.96,True,9,167.26499938964844,550.9732055664062,False,False,True,body
"The following section deals with an exemplary comparison of APD- and SPAD-baseddetectors for a laser-based ranging (LiDAR) scenario. Although the general idea forconducting such a comparison based on available laser and background power is herepresented, it must be adapted to the technology currently available on the market and forthe reader. A hypothetical target is placed at a reference distance of 100 m correspondingto tToF = 667 ns and illuminated by a laser pulse with a rectangular temporal pulse proﬁleof duration tP = 8 ns, wavelength of λ = 905 nm and varying optical power. Previouslyintroduced equations are used to calculate and plot values for SNR for each diode and allillumination scenarios.",9.84,False,9,166.96600341796875,566.6561279296875,False,False,False,body
3.1. General Comparison of Signal-to-Noise Ratios,9.96,False,9,167.26499938964844,689.2786254882812,False,False,True,body
"Values of SNR for APD [21] and a single-event SPAD according to Equations (12) and(25) and Tables 1 and 3, respectively, are plotted in Figure 3. The common parameters forthe LiDAR scenario used are again summarized in Table 2.",9.97,False,9,166.93600463867188,704.990478515625,False,False,False,body
"Sensors 2021, 21, 288710 of 18",7.97,True,10,35.777000427246094,53.77107238769531,False,False,False,body
Table 1. SPAD parameters.,8.97,True,10,166.968994140625,97.94735717773438,False,False,False,H4
ParameterSymbolUnitValue,8.97,True,10,195.593994140625,119.02737426757812,False,False,False,body
Dark Count RaterDCRHz1000AfterpulsingPAP-<1%Dead TimetDns20Bin WidthtBinns8Pixel Pitch 1dSPADµm50Number of SPADs 1NSPAD-100 NAPD,8.37,False,10,176.67799377441406,134.7203369140625,False,False,False,body
1 For multi pixel detector comparison.,6.97,False,10,166.96600341796875,202.1529998779297,False,False,True,body
"Figure 3. SNR for a single pixel SPAD and APD detector for a distance of 100 m and N = 1000accumulations. (a) SNR values for APD [21] (Table 3). (b) Achievable SNR for a SPAD detector insingle photon mode with parameters according to Table 1 and NSPAD = 1. SNR = 3 drawn as redcontour for ηPDE = 0.2 (solid line), ηPDE = 0.05 (dashed line) and ηPDE = 0.005 (dot-dashed line).",8.84,True,10,167.26499938964844,434.47216796875,False,False,False,H4
Table 2. Common parameters for ranging scenario.,8.97,True,10,166.96893310546875,499.4953308105469,False,False,False,H4
ParameterSymbolUnitValue,8.97,True,10,195.593994140625,520.5743408203125,False,False,False,body
Time-of-FlighttToFns667Object distancedMaxm100Pulse DurationtPns8Wavelengthλnm905Number of LasershotsN-1000,8.72,False,10,182.5889129638672,536.267333984375,False,False,False,body
"A wavelength in the near infrared was chosen because the human eye is not sensitivefor this regime and it is a common wavelength for silicon-based detectors. The diode pa-rameters from [7] are listed as reference values because they are the basis of the comparisonconducted in [7] and facilitates a direct comparison to the results from this work. It is notconsidered further because it is optimized for a wavelength different than that of the APDsused in the comparisons.The same detector area, ﬁll-factor and optics for SPAD and APD are assumed. Valuesof SNR higher than 10 are expected to be easily evaluable providing high probability ofdetection and low false alarm probability and are thus plotted in the same color. The abso-lute value of required SNR for a given probability of detection and false alarm probabilitydepends on the algorithm which is used to evaluate the measurement signal [22–25]. Alter-natively, interframe, interpixel information, more processing intensive evaluation schemesor decision threshold choice can enable more successful detections [26]. In the literature,",9.94,False,10,167.26499938964844,620.8505249023438,False,False,False,body
"Sensors 2021, 21, 288711 of 18",7.97,True,11,35.777000427246094,53.77107238769531,False,False,False,body
"values between 5 and 10 are reported to constitute a desirable operating window [27], so acontour line is drawn at an SNR value of 3 as an evaluable, albeit challenging, scenario.",9.93,False,11,166.98599243164062,98.30548858642578,False,False,False,body
Table 3. APD Parameters.,8.97,True,11,166.968994140625,135.64236450195312,False,False,False,H4
ParameterSymbolUnit[21][28][7],8.97,True,11,179.25999450683594,156.72134399414062,False,False,False,body
Dark CurrentIdnA0.80.50.1Excess NoiseFactorF-2.5-13,8.82,False,11,173.27499389648438,172.56719970703125,False,False,False,body
DiameterdAPDµm500500500Responsivity1RA/W585040,8.7,False,11,174.3159942626953,204.8363494873047,False,False,False,body
QuantumEfﬁciency 1ηQE-0.80.85-,8.37,False,11,177.4199981689453,238.32025146484375,False,False,False,body
Active AreaAOptmm20.1960.250.25Rise Timetrns0.550.45-AmpliﬁcationM-100100100Number ofAPDsNAPD-111,8.69,False,11,173.24200439453125,258.82977294921875,False,False,False,body
1 For radiation with wavelength λ = 905 nm.,7.64,False,11,166.96600341796875,316.36297607421875,False,False,True,body
"For the comparison plots, event rates RB and RL are deﬁned which represent the totalnumber of incident photons on a detector",9.34,False,11,167.26499938964844,340.84063720703125,False,False,False,body
RL =PSWPh(32),9.12,False,11,340.14599609375,374.5496520996094,False,False,False,body
andRB =PBWPh.(33),9.29,False,11,167.26498413085938,409.0374755859375,False,False,False,body
"The APDs used in the comparison are evaluated based on a few common parame-ters. A transimpedance ampliﬁer with BN = 50 MHz and ampliﬁcation voltage density
Vamp = 1.414 × 10−7V√",9.37,False,11,167.26499938964844,447.0143737792969,False,False,False,body
"Hz terminated with a resistance of Rf = 1000 Ωat an effectiveinput noise temperature T = 300 K is assumed for all following comparisons.In this particular scenario, the ﬁrst-photon detection capability of SPADs resultsin comparatively small incident background rates that can lead to the saturation of thedetector at long ranges. This effect is especially dominant here because of the workingdistance of 100 m. Smaller maximum distances reduce the saturation accordingly.The APDs can successfully sense the signal level from the background, provided thata minimum event rate of 10 GHz can be delivered to its surface. Above this threshold,more background can be tolerated than with the SPAD detector. The exact level dependson the evaluation scheme used to extract timing information from the measurement result.Results for a PDE of 20 % are given as a technologically reachable perspective butresults for 5 % and 0.5 % are also presented because those systems are currently availableon the market.The APD in Figure 3a shows higher background tolerance than the SPAD detector.It scales well with higher laser event rates and can successfully evaluate scenarios inwhich the laser event rate is orders of magnitude lower than the background rate. This isespecially distinct because of the high number of accumulated laser shots N.The SPAD detector in Figure 3b requires lower laser power than the APD. The scenariois generally challenging for the SPAD detector because it operates in single-photon acquisi-tion mode and is hence subject to saturation, further emphasized by the target distance of100 m.Dashed and dashed/dotted lines show system behavior for lower values of the PDEηPDE with the highest of the three values of ηPDE = 0.2 derived from SPAD with enhancedsensitivity in the near infrared in [29]. With higher PDE, a lower background event ratecan be tolerated than in the low PDE case, because the ﬁnite detection efﬁciency prevents",9.82,False,11,166.76699829101562,471.2258605957031,False,False,False,body
"Sensors 2021, 21, 288712 of 18",7.97,True,12,35.777000427246094,53.77107238769531,False,False,False,body
"saturation through incident sunlight. Thus, the detector requires a lower signal levelfor sensing but can also tolerate lower incident background radiation. This effect can bemitigated by using a smaller receiver aperture, enabling more compact system designs.As SPAD-based detection schemes are a rather novel development, improvement inevaluation schemes is to be expected. While we deﬁned an SNR level of 3 as an evaluablebut challenging threshold, we expect that the minimum SNR level of SPADs can be furtherimproved by temporally and spatially adaptive processing of different SPAD groups,see [30,31].Better saturation mitigation from multi-event using ﬁnite photon detection level orfree-running mode with photon acquisitions to the maximum number of detections NPh(Equation (27)) are shown in Figure 4 for the SPAD detectors. The graph for k = ∞is thelimit for a linear detector with ηPDE = 0.2 which is only reachable asymptotically by adetector without dead time.",9.86,False,12,166.93600463867188,98.23436737060547,False,False,False,body
"Figure 4. Behavior of the SPAD detector for higher multi-event levels k and limiting case of the lineardetector. NPh is set to 30 following from dead time and system range. SNR = 3 contour drawn forηPDE = 0.2, multi-event levels k and the linear detector (dashed line). Line for k = 1 is equivalent toFigure 3b.",8.76,True,12,167.26499938964844,528.818359375,False,False,False,H4
"The acquisition modes do not change the minimum required laser event rate on thedetector for successful detection but show their advantage in scenarios with increasingbackground level.Different research groups have picked up the task of improving SPAD ranging perfor-mance. Usage of coincidence detection [32] makes it possible to achieve higher backgroundlight immunity. On-chip integration of coincidence circuits has been demonstrated [33].The selective reduction in incident event rates can enable successful detection, providedhigh enough laser power can be delivered to the detector’s surface.The use of gating schemes [30] can further improve SNR values by preventing detectorsaturation before the pulse arrival if scene information and sufﬁcient measurement timeis available. Due to the SPADs’ digital behavior, the measurement procedure and dataprocessing scheme can be adaptively changed if environmental conditions as fog, rain orsnow inﬂuence the performance.",9.97,False,12,166.95599365234375,589.0521850585938,False,False,False,body
"Sensors 2021, 21, 288713 of 18",7.97,True,13,35.777000427246094,53.77107238769531,False,False,False,body
"Combining those measures enables the SPAD to reach sufﬁcient SNR for lower valuesof rL and higher background light levels rB, but only partially bridging the gap to thehigher APD background light level tolerance in high signal power scenarios.",9.45,False,13,167.26499938964844,98.37010955810547,False,False,False,body
3.2. Multi Pixel Detectors,9.96,False,13,167.26499938964844,145.6576385498047,False,True,True,body
"The difference in common detector diameters suggests a comparison in which theSPAD takes up less space than the APD. When using the same optical system, this wouldlead to a reduction in power on the surface of the individual detector. The good arraycapabilities of SPADs suggest a multi pixel detector as a feasible alternative for comparison.Detector geometry for the comparison scenarios between APD and SPAD is shownin Figure 5. A single pixel APD detector with a diameter of 500 µm is implemented inan optical range ﬁnder scenario. To be able to compare the different detectors, a squareillumination on the detector’s surface is selected.",10.02,False,13,167.26499938964844,161.29734802246094,False,False,False,body
Figure 5. Comparison case for a single pixel APD detector of diameter 500 µm and a SPAD detectorwith 100 pixels and respective diameter of 50 µm.,8.96,True,13,166.88800048828125,430.1043701171875,False,False,False,H4
"Equation (30) with input rates multiplied by ﬁnite detection efﬁciency of SPAD and(14) for the APD case are used. To create a comparison scenario, the respective APDgeometry is placed in the illuminated spot. The geometry results in an effective reductionin ﬁll-factor. For the 500 µm diameter APDs, a value of ηFF,500 = π",9.36,False,13,166.93600463867188,465.1466369628906,False,False,False,body
"4 = 78.5 % is achieved.Assuming a pixel pitch of 50 µm for the SPAD, 100 SPAD devices can be implementedin the same detector area as one 500 µm APD. Using commonly evaluated multiple pixelshas implications for total system performance. By splitting up event rates between multiplepixels, absolute values of rate per pixel are reduced. Noise characteristics which areindependent of signal level stay constant for both APDs and SPADs and thus deﬁne thearray behavior for high numbers of pixels. It is generally easier to implement high numbersof SPADs in an array because of their purely digital evaluation scheme.Multi pixel SPAD detectors reduce the absolute background event rate compared tothe single pixel detector as seen in Equation (30) and Figure 6, resulting in a lower value ofsaturation PA,M up until the time-of-ﬂight tToF.",9.7,False,13,166.96600341796875,501.88983154296875,False,False,True,body
"Sensors 2021, 21, 288714 of 18",7.97,True,14,35.777000427246094,53.77107238769531,False,False,False,body
"Figure 6. SNR = 3 contours of the multi pixel SPAD detector with ηPDE = 0.2, k = 1 for differentpixel numbers NSPAD = [1, 10, 100, 1000, 10, 000] plotted over total event rates RB and RL. Othervalues from Table 1. Red cross: Multi pixel scenario used in Figure 7.",8.75,True,14,166.99600219726562,318.1801452636719,False,False,False,H4
"Figure 7. SNR from (30) for constant event rates rL = 0.1 GHz, rB = 0.4 GHz. SPAD and scenarioparameters from Tables 1 and 2 respectively. Red contour for SNR = 3. Red cross: multi pixel SPADwith NSPAD = 100 and rDCR = 1 kHz.",8.75,True,14,166.88800048828125,599.255126953125,False,False,False,H4
"This is especially visible in the case of single-photon acquisition but also effects higherorder photon detection, as seen in the ﬁgure. One issue is that the size of timestamp in bitgenerated by a SPAD depends on the maximum acquisition range tToF and bin size tBinwhich means that the amount of data produced by the array is also increased by factorNSPAD, creating a challenge for readout design.Splitting incident photon rates onto a SPAD array can have beneﬁts or draw backsdepending mainly on the dark count rate. It constitutes the lower noise limit per pixel.The usage of more SPADs can, furthermore, lead to the deterioration of systemperformance as shown in Figure 7. The ﬁxed noise of a single pixel is multiplied bythe number of pixels as seen in (30). There is an optimum to be found here betweenbackground light suppression, quantity of timestamp data and present dark count rate.",9.65,False,14,166.8459930419922,647.5023193359375,False,False,False,body
"Sensors 2021, 21, 288715 of 18",7.97,True,15,35.777000427246094,53.77107238769531,False,False,False,body
"Generally, smaller SPADs also exhibit lower DCR. The plot also shows that this particularevent rate scenario (marked with a red X) is not successfully evaluable with a single SPADin single-photon acquisition mode. The SPAD based on parameters in Table 1 shows inthis example that increasing the SPAD number up to 1000 would still be beneﬁcial, due tothe low DCR used here. It has to be kept in mind, though, that the DCR will increase withrising temperatures.The SNR comparison for a single 500 µm APD and a single SPAD with the sameimpinging number of photons per second on the detectors surface with scenario parametersfrom Table 2 is shown in Figure 8a. As before, the SPAD requires lower laser power thanthe APD for successful detection. As soon as this power threshold is reached, the APD willshow a more background-tolerant behavior.",9.99,False,15,167.26499938964844,98.31263732910156,False,False,False,body
"Figure 8. Contour lines for receiver performance when comparing a single APD to an equally sized SPAD detector (a) indifferent operation modes of the SPAD (single/multi-event detection) and (b) additionally for 10,000 SPAD pixels NSPAD.Contour lines according to (14) and (30) with values from Tables 1–3 at SNR = 3 are shown in each case.",8.85,True,15,57.2599983215332,459.141357421875,False,False,False,H4
"The SNR comparison for a single 500 µm APD and 100 SPADs is shown in Figure 8b.Although one cannot assume that both diode’s signals are evaluable at exactly the sameSNR, the contour line of SNR 3 is again drawn for purpose of demonstration. It can be seenthat higher background event rates are tolerable with the multi pixel SPAD array comparedto the single pixel SPAD detector. On the other hand, the minimum required laser poweris slightly higher as well. To show this effect more clearly, a relatively high number ofSPADs of NSPAD = 10,000 was chosen for this particular comparison. The advantage frommulti-event acquisition shifts to higher laser event rates because of the overall reducedrates per pixel. The behavior of the APD is the same as in Figure 3 except for the slightreduction in ﬁll-factor. As in the single pixel comparison, it requires higher laser eventrates but can also tolerate more background photons.When the detectors are not evaluated together but on a per pixel basis, the multi pixelSPAD system can achieve inherent spatial resolution. In LiDAR systems this translates intoa smaller ﬁeld-of-view which is also called the instantaneous Field-of-View (iFoV). Thesmaller reception angles lead to lower background light level for smaller detectors and thuslower background light inﬂuence. The limited array capability of APDs caused by process-based ﬂuctuations in breakdown and biasing voltages and their analog circuitry causesdifﬁculties in achieving the highest possible spatial resolution, requiring beam-steeringsolutions. The possibility for accumulating the same scene is limited for those scanningsystems because of limited beam-steering velocity through rotating macroscopic or MEMSmirrors.",9.91,False,15,166.87600708007812,505.8571472167969,False,False,False,body
"Sensors 2021, 21, 288716 of 18",7.97,True,16,35.777000427246094,53.77107238769531,False,False,False,body
"For SPADs, those process-based ﬂuctuations exist as well but do not impact perfor-mance as drastically. Different breakdown and biasing voltages will lead to minimal and formost applications neglectable changes in timing precision for the diodes but their inﬂuenceon charge multiplication does not affect system performance in the same way it does forAPDs. The avalanche breakdown’s saturating behavior makes multiple detectors behavemore uniformly.",9.96,False,16,166.87600708007812,98.23436737060547,False,False,False,body
4. Discussion and Outlook,9.96,True,16,167.26499938964844,183.39222717285156,False,False,True,body
"This work analyses optical detection systems built from APDs or SPADs based on acommon ﬁgure of merit, the signal-to-noise ratio. Besides their respective detectors noisebehavior and signal detection mechanisms, we discuss currently achievable technologicallydetermined parameters like ﬁll-factor and respective detector sensitivity.The APD is more robust against incident background light radiation but requireshigher signal power levels for detection. Its limited capability for 2D-array integrationmeans it requires a beam-steering solution for achieving spatial resolution when used fora LiDAR system. APDs are a rather mature technology and have been well-optimized,making technological progress harder to achieve and thus more expensive.SPADs show their advantages especially in low-power scenarios. Their smaller sizecompared to APDs generally results in both lower incident background light and signallevels, and their small depletion layer results in high temporal resolution. If backgroundlight levels saturate the SPADs, acquisition of multiple photon arrivals can overcomenoise levels without introducing any new detector noise. Combination with coincidencedetection logic can help achieve the highest possible ranges.An increase in ﬁll-factor and thus PDE is a promising direction for further devel-opment. Fill-factor improvements for SPAD arrays can stem from the use of integratedmicrolenses, but they also reduce the acceptance angle of the array, limiting their effect. Theintegration of readout circuitry on a separate wafer and subsequent bonding of readout andwafer with integrated backside-illuminated SPADs (BSI) promise high ﬁll-factor designsand are ongoing areas of research. Low-noise and sensitive SPADs optimized for detectionin the near infrared in a CMOS compatible process can be combined with high densityread-out electronics in a smaller technology node.Higher density SPAD integration also allows for an inherent spatial resolution. Es-pecially for ﬂash LiDAR systems which acquire scene depth information without the useof moving parts, this higher number of detectors can provide scene-dependent ﬂexibility.A tradeoff can be found between high spatial resolution by evaluating all detectors bythemselves and high range by commonly building histograms over bigger regions of thesensor. Algorithmic advances balancing the amount of data from the SPAD array which inmulti-event detectors is activity based and detector ranging performance, can help to ﬁndthe right operational conditions at the right time, narrowing the gap between APD andSPAD detectors for high distance ranging applications.In summary, the SNR comparison of the two different photodetectors and their charac-teristics must be continued in further research. The analytical values of SNR would have tobe coupled with object detection and image processing results to achieve a more detailledcomparison. Our results lay the groundwork for further and more detailled discussions onthe commonalities of the two approaches. The aim is to unite both worlds of photodiodesin order to develop the optimal LiDAR system of the future.",9.98,False,16,166.8459930419922,198.98117065429688,False,False,False,body
"Author Contributions: Conceptualization, S.H. and F.M.K.; methodology, A.B., S.H. and R.B.; soft-ware, A.B.; validation, M.L., S.H. and F.M.K.; formal analysis, S.H. and R.B.; investigation, S.H., R.B.and A.B.; data curation, A.B.; writing—original draft preparation, A.B. and R.B.; writing—reviewand editing, S.H., J.R., A.G. and M.L.; visualization, A.B.; supervision, M.L., A.G. and J.R.; projectadministration, J.R. and A.G. All authors have read and agreed to the published version of themanuscript.",9.01,True,16,166.88800048828125,687.788330078125,False,False,False,H2
Funding: This research received no external funding.,8.97,True,16,167.26499938964844,764.0623168945312,False,False,False,H2
"Sensors 2021, 21, 288717 of 18",7.97,True,17,35.777000427246094,53.77107238769531,False,False,False,body
>>>>>>> e445125f3f063e3282945fa7c7c637c4f1f50377
Institutional Review Board Statement: Not applicable.,8.97,True,17,167.26499938964844,98.93533325195312,False,False,False,H2
Informed Consent Statement: Not applicable.,8.97,True,17,167.26498413085938,116.62832641601562,False,False,False,H2
Data Availability Statement: Not applicable.,8.97,True,17,167.26498413085938,134.32229614257812,False,False,False,H2
"Acknowledgments: We thank Bedrich Hosticka for fruitful technical discussions and proofreading.Furthermore, we would like to thank Melinda Kolb for grammatical and orthographic languageimprovements.",8.99,True,17,166.91500854492188,152.01626586914062,False,False,False,H2
<<<<<<< HEAD
References,9.96,True,17,36.0,238.26625061035156,False,True,False,H2
=======
"Conﬂicts of Interest: The authors declare no conﬂict of interest. The funders had no role in the designof the study; in the collection, analyses, or interpretation of data; in the writing of the manuscript, orin the decision to publish the results.",8.93,True,17,167.26499938964844,193.14236450195312,False,False,False,body
References,9.96,True,17,36.0,238.26625061035156,False,True,False,H2
"1.Gatt, P.; Johnson, S.; Nichols, T. Geiger-mode avalanche photodiode ladar receiver performance characteristics and detectionstatistics. Appl. Opt. 2009, 48, 3261–3276. [CrossRef] [PubMed]2.Buchner, A.; Hosticka, B.; Schrey, O.; Haase, J.F.; Ruskowski, J.; Grabmaier, A. Acquisition of Multiple Events in Direct Time-of-Flight LiDAR using Single-Photon Avalanche Diodes. In Proceedings of the 2020 IEEE Sensors Conference, Rotterdam, TheNetherlands, 25–28 October 2020; pp. 1–4.3.Seo, H.; Yoon, H.; Kim, D.; Kim, J.; Kim, S.-J.; Chun, J.-H.; Choi, J. Direct TOF scanning LiDAR sensor with two-step multieventhistogramming TDC and embedded interference ﬁlter. IEEE J. Solid-State Circuits 2021, 56, 1022–1035. [CrossRef]4.Kolb, K. Signal-to-noise ratio of Geiger-mode avalanche photodiode single-photon counting detectors. Opt. Eng. 2014, 53, 81904.[CrossRef]5.Sze, S.M.; Lee, M.-K. Semiconductor Devices. Physics and Technology International Student Version, 3rd ed.; Wiley: Singapore, 2013;ISBN 0470873671.6.Kingston, R.H. Optical Sources, Detectors, and Systems. Fundamentals and Applications; Academic Press: San Diego, CA, USA, 1995;ISBN 9780124086555.7.Pasquinelli, K.; Lussana, R.; Tisa, S.; Villa, F.; Zappa, F. Single-Photon detectors modeling and selection criteria for high-background LiDAR. IEEE Sens. J. 2020, 20, 7021–7032. [CrossRef]8.Horst Zimmermann. APD and SPAD Receivers: Invited Paper. In Proceedings of the 2019 15th International Conference onTelecommunications (ConTEL), Graz, Austria„ 3–5 July 2019; pp. 1–5.9.Zhang, L.; Chitnis, D.; Chun, H.; Rajbhandari, S.; Faulkner, G.; O’Brien, D.; Collins, S. A comparison of APD-and SPAD-basedreceivers for visible light communications. J. Lightwave Technol. 2018, 36, 2435–2442. [CrossRef]10.McManamon, P.F.; Banks, P.; Beck, J.; Fried, D.G.; Huntington, A.S.; Watson, E.A. Comparison of ﬂash lidar detector options. Opt.Eng. 2017, 56, 31223. [CrossRef]11.Graeme, J.G. Photodiode Ampliﬁers. Op amp Solutions; McGraw Hill: New York, NY, USA, 1996; ISBN 007024247X.12.Wood, D. Optoelectronic Semiconductor Devices. Prentice Hall: New York, NY, USA, 1994; ISBN 0136387500.13.Cova, S.; Ghioni, M.; Lacaita, A.; Samori, C.; Zappa, F. Avalanche photodiodes and quenching circuits for single-photon detection.Appl. Opt. 1996, 35, 1956–1976. [CrossRef] [PubMed]14.Perenzoni, M.; Pancheri, L.; Stoppa, D. Compact SPAD-based pixel architectures for time-resolved image sensors. Sensors 2016,16, 745. [CrossRef] [PubMed]15.Niclass, C.; Soga, M. A miniature actively recharged single-photon detector free of afterpulsing effects with 6ns dead time in a 018 µm CMOS technology. In Proceedings of the 2010 IEEE International Electron Devices Meeting (IEDM), San Francisco, CA,USA, 6–8 December 2010; pp. 14.3.1–14.3.4, ISBN 978-1-4424-7418-5.16.Nolet, F.; Parent, S.; Roy, N.; Mercier, M.-O.; Charlebois, S.; Fontaine, R.; Pratte, J.-F. Quenching circuit and SPAD integrated inCMOS 65 nm with 7.8 ps FWHM single photon timing resolution. Instruments 2018, 2, 19. [CrossRef]17.Richardson, J.A.; Webster, E.A.G.; Grant, L.A.; Henderson, R.K. Scaleable single-photon avalanche diode structures in nanometerCMOS technology. IEEE Trans. Electron Devices 2011, 58, 2028–2035. [CrossRef]18.Hofbauer, M.; Steindl, B.; Zimmermann, H. Temperature Dependence of dark count rate and after pulsing of a single-photonavalanche diode with an integrated active quenching circuit in 0.35 µm CMOS. J. Sens. 2018, 2018, 1–7. [CrossRef]19.Saleh, B.E.A.; Teich, M.C. Fundamentals of Photonics, 2nd ed.John Wiley & Sons: Chicester, UK, 2013; ISBN 9781118585818.20.Beer, M. SPAD-Basierte Sensoren für die Laufzeitbasierte Distanzmessung bei hoher Hintergrundlichtintensität. 2018. Availableonline: https://duepublico2.uni-due.de/servlets/MCRFileNodeServlet/duepublico_derivate_00046797/Diss_Beer.pdf (accessedon 19 April 2021).21.Schillgalies, M. AD500-9 TO 3001351. 2018. Available online: https://www.ﬁrst-sensor.com/cms/upload/datasheets/AD500-9_TO_3001351.pdf (accessed on 9 April 2021).22.Fouche, D.G. Detection and false-alarm probabilities for laser radars that use Geiger-mode detectors. Appl. Opt. 2003, 42,5388–5398. [CrossRef] [PubMed]23.Huntington, A.S.; Williams, G.M.; Lee, A.O. Modeling false alarm rate and related characteristics of laser ranging and LIDARavalanche photodiode photoreceivers. Opt. Eng. 2018, 57, 1. [CrossRef]",8.97,True,17,35.99998474121094,253.5061798095703,False,False,True,body
"Sensors 2021, 21, 288718 of 18",7.97,True,18,35.777000427246094,53.77107238769531,False,False,False,body
"24.Henriksson, M. Detection probabilities for photon-counting avalanche photodiodes applied to a laser radar system. Appl. Opt.2005, 44, 5140–5147. [CrossRef] [PubMed]25.Arvani, F.; Carusone, A.C.; Rogers, E. TDC Sharing in SPAD-Based Direct Time-of-Flight 3D Imaging Applications. In Proceedingsof the 2019 IEEE International Symposium on Circuits and Systems (ISCAS), Sapporo, Japan, 26–29 May 2019.26.Milstein, A.B.; Jiang, L.A.; Luu, J.X.; Hines, E.L.; Schultz, K.I. Acquisition algorithm for direct-detection ladars with Geiger-modeavalanche photodiodes. Appl. Opt. 2008, 47, 296–311. [CrossRef]27.Kostamovaara, J.; Jahromi, S.S.; Keränen, P. Temporal and spatial focusing in SPAD-based solid-state pulsed time-of-ﬂight laserrange imaging. Sensors 2020, 20, 5973. [CrossRef] [PubMed]28.LC-APD. Silicon Avalanche Photodiode SAR-/SARP-Series. Available online: https://www.lasercomponents.com/ﬁleadmin/user_upload/home/Datasheets/lc-apd/sar-series.pdf (accessed on 9 April 2021).29.Takai, I.; Matsubara, H.; Soga, M.; Ohta, M.; Ogawa, M.; Yamashita, T. Single-photon avalanche diode with enhanced NIR-sensitivity for automotive LIDAR systems. Sensors 2016, 16, 459. [CrossRef]30.Haase, J.F.; Buchner, A.; Grollius, S.; Ruskowski, J.; Vogt, H. Measurement concept to reduce environmental impact in directtime-of-ﬂight LiDAR sensors. In Quantum Sensing and Nano Electronics and Photonics XVII, Proceedings of the Quantum Sensing andNano Electronics and Photonics XVII; San Francisco, CA, USA, 1–6 February 2020, Razeghi, M., Razeghi, M., Eds.; SPIE: Bellingham,WA, USA, 2020; p. 9. ISBN 9781510633391.31.Rapp, J.; Goyal, V.K. A Few Photons among many: Unmixing signal and noise for photon-efﬁcient active imaging. IEEE Trans.Comput. Imaging 2017, 3, 445–459. [CrossRef]32.Niclass, C.; Soga, M.; Matsubara, H.; Kato, S.; Kagami, M. A 100-m Range 10-Frame/s 340 × 96-pixel time-of-ﬂight depth sensorin 0.18-µm CMOS. IEEE J. Solid-State Circuits 2013, 48, 559–572. [CrossRef]33.Beer, M.; Haase, J.F.; Ruskowski, J.; Kokozinski, R. Background light rejection in SPAD-based LiDAR sensors by adaptive photoncoincidence detection. Sensors 2018, 18, 4338. [CrossRef] [PubMed]",8.97,True,18,35.99998474121094,98.83773803710938,False,False,True,body
>>>>>>> e445125f3f063e3282945fa7c7c637c4f1f50377
